<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MunchkinCare | Calendar</title>
    <link rel="stylesheet" href="index.css" >
    <link rel="stylesheet" href = "messages.css">
    <script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
  crossorigin="anonymous"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Crafty+Girls">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans&amp;display=swap">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
</head>
<body class="messages">
    <div class="navigation">
        <div class="row">
            <a class="logo-main" href="index.html">Munchkin Care</a>
        </div>
        <div class="row position-relative">
            <div id="toolbar">
                <i id="homeBtn" class="bi bi-house-door-fill" onclick="homePage()"></i>
                <i id="msgBtn" class="bi bi-chat-dots-fill" onclick="msgPage()"></i>
                <i id="profileBtn" class="bi bi-person-fill" onclick="parentPage()"></i>
            </div>
            <!-- <div class="info-container">
                <a class="profile-link" href="parentProfile.html"><img src="assets/images/icon-profile.png" alt="profile-icon"></a>
            </div> -->
        </div>
    </div>
    <div class="content">
        <div class="contact-list col-md-4">
            <div class="contact-card">
                <div class="profile-picture">
                    <img src="caregiverPageAssets/LaurieStrode.jpeg">
                </div>
                <div class="name">
                    Laurie Strode
                </div>
            </div>
            <div class="contact-card">
                <div class="profile-picture">
                    <img src="parentPageAssets/images/johndoe.png">
                </div>
                <div class="name">
                    John Doe
                </div>
            </div>
            <div class="contact-card">
                <div class="profile-picture">
                    <img src="parentPageAssets/images/janedoe.png">
                </div>
                <div class="name">
                    Jane Doe
                </div>
            </div>
            <div class="add-contact-btn" onclick="showPopUp('contact')">
                <div class="title">Add New Contact <i class="bi bi-plus-circle"></i>
                </div>
            </div>
        </div>
        <div class="message-action-container col-md-8 position-relative">
            <div class="overlay-initial">
                <div class="title">
                    Please select a user from left to start or see a conversation
                </div>
                <img src="assets/images/icon-arrow.svg" >
            </div>
            <div class="title">
                <img src="parentPageAssets/images/janedoe.png">
                <div class="name">Name</div>
            </div>
            <div class="msg-area"></div>
            <div class="controls">
                <div class="booking-icon">
                    <img src="assets/images/icon-book.png" alt="booking icon">
                </div>
                <div class="input-control">
                    <input type="text" placeholder="Type your messager here..">
                    <div class="send-btn"><img src="assets/images/icon-send.png" alt="send button"></div>
                </div>
            </div>
        </div>
    </div>

    
       

    <div class="pop-up-container">
        <div class="pop-up">
            <div class="pop-up-header">
                <div class="title">Title Goes here</div>
            </div>
            <div class="body">
                <div class="form ">
                    <label for="contactName">Name:</label>
                    <input class="form-control" id="contactName" type="text">
                    <label for="contactEmail">E-mail:</label>
                    <input class="form-control" id="contactEmail" type="email">
                    <label for="contactPhone">Phone #:</label>
                    <input class="form-control" id="contactPhone" type="tel">
                </div>
            </div>
            <div class="close-btn-container" onclick="closePopUp()">
                <div class="close-btn">Close</div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        $(function() {
            var right = true;
            $(".contact-card").on('click', function(){
                var imgPath = $(this).find('img').attr('src');
                var name = $(this).find(".name").html();
                $(".contact-card").removeClass('active');
                $(this).addClass('active');
                $('.message-action-container .title img').attr('src', imgPath);
                $('.message-action-container .title .name').html(name);
                $('.msg-area').html("");
                $('.overlay-initial').fadeOut(200);
            });
            $(".input-control input").on("keydown", function(e){
                if(e.key == "Enter"){
                    $(".send-btn").trigger('click');
                };
            });
           $(".send-btn").on('click', function(){
               if($('.input-control input').val().length == 0){
                   return;
               }
                var msgText = $('.input-control input').val();
               $('.input-control input').val("");
               var msgHTML = "<div class='msg right'>"+msgText+"</div>";
               $('.msg-area').append($(msgHTML).hide().fadeIn(800));
               customcCallBack();
               $('.input-control input').focus();
           });
           $('.message-action-container .title').on('click', function(){
               window.location.href = 'caregiverProfile.html';
           });
        });

        function customcCallBack(){
            var msgText = "I don't know how to respond to that";
            msgHTML = "<div class='msg left'>"+msgText+"</div>";
            $('.msg-area').append($(msgHTML).hide().delay(1000).fadeIn(800));
        }
        function closePopUp(){
            $('.pop-up-container .close-btn-container .close-btn.new').remove();
            $(".pop-up-container").hide();    
        }
        function showPopUp( popup ){
                if(popup == "contact"){
                    var title = "Add Contact";
                    var body  = '<div class="form ">'+
                                    '<label for="contactName">Name:</label>'
                                    +'<input class="form-control" id="contactName" type="text">'+
                                    '<label for="contactEmail">E-mail:</label>'+
                                    '<input class="form-control" id="contactEmail" type="email">'+
                                    '<label for="contactPhone">Phone #:</label>'+
                                    '<input class="form-control" id="contactPhone" type="tel">'+
                                '</div>';
                    console.log(body);
                    $('.pop-up-container .close-btn-container').append('<div class="close-btn new">Add Contact</div>');

                }
                else if(popup == "share"){
                    var title = "Share calendar via:"
                    var body = "<div class='share-options-container'><div class='share-option'><img src='assets/images/icon-email.png'><div class='title'>Email</div></div>"+
                    "<div class='share-option'><img src='assets/images/icon-msg.png'><div class='title'>Text/SMS</div></div>"+"<div class='share-option'><img src='assets/images/icon-wa.png'><div class='title'>WhatsApp</div></div>"+"</div>"
                }else{
                    var title = "Upcoming Event Details:"
                    var body = "Lorem ipsum dolor sit amet consectetur adipisicing elit. Cum quisquam eveniet modi et facere? Ipsa in sit doloremque. Iste soluta nemo maiores amet molestias. Consequuntur voluptas explicabo dolorum eius dolorem."
                }
                $('.pop-up-container .title').html(title);
                $('.pop-up-container .body').html(body);
                $('.pop-up-container').fadeIn(500);
            }
    </script>
    <script src="parentPageAssets/parentprofile.js"></script>
</body>
</html>